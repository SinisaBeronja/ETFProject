<div class="header"><h2>Softverski sistem za predaju naučnih radova</h2></div>
<br>
<div><h3>Evaluacija projekta {{project.nazivProjekta}}, {{project.ime}} {{project.prezime}}, {{project.nazivInstSrp}}</h3></div>
<br>

<div *ngIf="evaluations.length>0" class="container">
    <div class="row">
        <div class="column">
            <table class="table table-striped table-hover table-sm">
                <tbody>
                    <tr>
                        <th>Datum</th>
                        <th>Sugestija</th>
                        <th>Primedbe</th>
                        <th>Zahtevi</th>
                        <th>Status</th>
                        <th>Obrazlozenje</th>
                        <th *ngIf='user.lozinka==="admin246"'>Izmeni</th>
                        <th *ngIf='user.lozinka==="admin246"'>Obriši</th>
                    </tr>
                    <tr *ngFor="let evaluation of evaluations">
                        <td>{{evaluation.datumEvaluacije}}</td>
                        <td>{{evaluation.sugestije}}</td>
                        <td>{{evaluation.primedbe}}</td>
                        <td>{{evaluation.zahtevi}}</td>
                        <td>{{evaluation.statusProjekta}}</td>
                        <td>{{evaluation.obrazlozenje}}</td>
                        <td *ngIf='user.lozinka==="admin246"'><button (click)="editEvaluation(evaluation)">Izmeniti</button></td>
                        <td *ngIf='user.lozinka==="admin246"'><button (click)="deleteEvaluation(evaluation)">Obrisati</button></td>
                    </tr>
                    <!--  Ukoliko je admin samo onda prikazi dugmad obrisi i izmeni-->
                </tbody>
            </table>
         </div>
    </div>
</div>

<hr>

<div>
    <h2> Dodaj evaluaciju</h2>
</div>

<div class="container">
    <div class="row">
        <div class="column">
            <table class="table table-striped table-hover table-sm">
                <tbody>
                    <tr>
                        <td>Datum:</td>
                        <td><input style="width: 220px;" type="text" name="datumEvaluacije" [(ngModel)]="datumEvaluacije"></td>
                    </tr>
                    <tr>
                        <td>Status projekta:</td>
                        <td>                          
                            <select class="form-control-sm w-25" [(ngModel)]="statusProjekta">  
                                <option>Podnet</option>
                                <option>Razmatranje</option>
                                <option>Prihvacen</option>
                                <option>Dorada</option>
                                <option>Odbijen</option>
                            </select>
                        </td>
                    </tr>
                    <tr *ngIf="statusProjekta=='Dorada'">
                        <td>Sugestije:</td>
                        <td><input style="width: 800px;" type="text" name="sugestije" [(ngModel)]="sugestije"></td>
                    </tr>
                    <tr *ngIf="statusProjekta=='Dorada'">
                        <td>Primedbe:</td>
                        <td><input style="width: 800px;" type="text" name="primedbe" [(ngModel)]="primedbe"></td>
                    </tr>
                    <tr *ngIf="statusProjekta=='Dorada'">
                        <td>Zahtevi:</td>
                        <td><input style="width: 800px;" type="text" name="zahtevi" [(ngModel)]="zahtevi"></td>
                    </tr>
                    <br>
                   
                    <tr *ngIf="statusProjekta=='Prihvacen' || statusProjekta=='Odbijen'">
                        <td>Obrazlozenje:</td>
                        <td><input style="width: 800px;" type="text" name="obrazlozenje" [(ngModel)]="obrazlozenje"></td>
                    </tr>
                </tbody>
            </table>
         </div>
    </div>
</div>

<br>
<div>
    <button (click) = "insertEvaluation()">Dodaj evaluaciju</button>
    <br>
    <button (click) = "goBack()">Nazad</button>
</div>
